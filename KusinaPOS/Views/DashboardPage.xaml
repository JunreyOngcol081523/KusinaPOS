<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="KusinaPOS.Views.DashboardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewmodels="clr-namespace:KusinaPOS.ViewModel"
    BackgroundColor="{StaticResource BackgroundDark}">

    <ScrollView>
        <Grid Padding="15">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!--  Top Header  -->
            <Grid
                Grid.Row="0"
                Margin="0,0,0,5"
                ColumnDefinitions="*,Auto,Auto">
                <Grid
                    Grid.Column="0"
                    ColumnDefinitions="Auto,Auto"
                    ColumnSpacing="10">
                    <Image
                        Grid.Column="0"
                        HeightRequest="20"
                        HorizontalOptions="Start"
                        Source="{Binding AppLogo}"
                        VerticalOptions="Start" />
                    <Label
                        Grid.Column="1"
                        FontSize="15"
                        HorizontalOptions="Start"
                        Text="{Binding AppTitle}"
                        TextColor="{StaticResource TextPrimary}"
                        VerticalOptions="Start"
                        VerticalTextAlignment="Start" />
                </Grid>

                <Label
                    Grid.Column="1"
                    Margin="0,0,20,0"
                    FontSize="12"
                    Text="{Binding CurrentDateTime}"
                    TextColor="{StaticResource TextSecondary}"
                    VerticalOptions="Center" />

                <HorizontalStackLayout
                    Grid.Column="2"
                    Spacing="10"
                    VerticalOptions="Center">
                    <Label
                        FontSize="12"
                        Text="{Binding LoggedInUserName}"
                        TextColor="{StaticResource TextSecondary}"
                        VerticalOptions="Center" />
                    <Border
                        BackgroundColor="{StaticResource Primary}"
                        HeightRequest="20"
                        StrokeShape="RoundRectangle 15"
                        WidthRequest="20">
                        <Label
                            FontSize="14"
                            HorizontalOptions="Center"
                            Text="âš™"
                            TextColor="White"
                            VerticalOptions="Center">
                            <!--  tapped event below  -->
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding OpenSettingsCommand}" />
                            </Label.GestureRecognizers>
                        </Label>
                    </Border>
                </HorizontalStackLayout>
            </Grid>

            <!--  Main Content  -->
            <Grid
                Grid.Row="1"
                RowDefinitions="Auto,*"
                RowSpacing="10">

                <!--  Top Cards Row  -->
                <Grid
                    Grid.Row="0"
                    ColumnDefinitions="*,*,*,*"
                    ColumnSpacing="8">

                    <!--  Today's Sales Card  -->
                    <Border
                        Grid.Column="0"
                        Padding="15"
                        BackgroundColor="{StaticResource SurfaceDark}"
                        StrokeShape="RoundRectangle 15">
                        <VerticalStackLayout Spacing="8">
                            <Label
                                FontAttributes="Bold"
                                FontSize="12"
                                Text="TODAY'S SALES"
                                TextColor="{StaticResource TextSecondary}" />

                            <Label
                                FontSize="35"
                                HorizontalOptions="Start"
                                Text="ðŸ’°" />

                            <Label
                                FontAttributes="Bold"
                                FontSize="25"
                                Text="{Binding TodaySalesTotal}"
                                TextColor="{StaticResource Primary}" />

                            <Label
                                FontSize="12"
                                Text="{Binding TodayTransactionsCount}"
                                TextColor="{StaticResource TextSecondary}" />
                        </VerticalStackLayout>
                    </Border>

                    <!--  Inventory Status Card  -->
                    <Border
                        Grid.Column="1"
                        Padding="15"
                        BackgroundColor="{StaticResource SurfaceDark}"
                        StrokeShape="RoundRectangle 15">
                        <VerticalStackLayout Spacing="8">
                            <Label
                                FontAttributes="Bold"
                                FontSize="12"
                                Text="WEEKLY SALES"
                                TextColor="{StaticResource TextSecondary}" />

                            <Label
                                FontSize="35"
                                HorizontalOptions="Start"
                                Text="ðŸ’°" />

                            <Label
                                FontAttributes="Bold"
                                FontSize="25"
                                Text="{Binding WeeklySalesTotal}"
                                TextColor="{StaticResource Primary}" />

                            <Label
                                FontSize="12"
                                Text="{Binding WeeklyTransactionsCount}"
                                TextColor="{StaticResource TextSecondary}" />
                        </VerticalStackLayout>
                    </Border>

                    <!--  Top Selling Items Card  -->
                    <Border
                        Grid.Column="2"
                        Padding="15"
                        BackgroundColor="{StaticResource SurfaceDark}"
                        StrokeShape="RoundRectangle 15">
                        <VerticalStackLayout Spacing="8">
                            <Label
                                FontAttributes="Bold"
                                FontSize="12"
                                Text="TOP SELLING ITEMS"
                                TextColor="{StaticResource TextSecondary}" />

                            <VerticalStackLayout Spacing="8">
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="1. ðŸŸ Grilled Salmon (38)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="2. ðŸ¥© Ribeye Steak (25)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="3. ðŸ¥— Caesar Salad (42)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="4. ðŸ• Margarita Pizza (20)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="5. â˜• Tiramisu (18)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                            </VerticalStackLayout>
                        </VerticalStackLayout>
                    </Border>

                    <!--  Cashier Performance Card  -->
                    <Border
                        Grid.Column="3"
                        Padding="20"
                        BackgroundColor="{StaticResource SurfaceDark}"
                        StrokeShape="RoundRectangle 15">
                        <VerticalStackLayout Spacing="8">
                            <Label
                                FontAttributes="Bold"
                                FontSize="12"
                                Text="CASHIER PERFORMANCE"
                                TextColor="{StaticResource TextSecondary}" />

                            <VerticalStackLayout Spacing="8">
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="1. ðŸ¥‡ Sarah J. ($750.00)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="2. ðŸ¥ˆ Michael B. ($520.50)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="3. ðŸ¥‰ David L. ($415.00)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                                <HorizontalStackLayout Spacing="8">
                                    <Label
                                        FontSize="13"
                                        Text="4. ðŸ‘¤ Emily R. ($160.00)"
                                        TextColor="{StaticResource TextPrimary}" />
                                </HorizontalStackLayout>
                            </VerticalStackLayout>
                        </VerticalStackLayout>
                    </Border>

                </Grid>

                <!--  Bottom Section  -->
                <Grid
                    Grid.Row="1"
                    ColumnDefinitions="*,*"
                    ColumnSpacing="8">

                    <!--  Daily Sales Overview Chart  -->
                    <Border
                        Grid.Column="0"
                        Padding="15"
                        BackgroundColor="{StaticResource SurfaceDark}"
                        StrokeShape="RoundRectangle 15">
                        <VerticalStackLayout Spacing="15">
                            <Label
                                FontAttributes="Bold"
                                FontSize="12"
                                Text="DAILY SALES OVERVIEW"
                                TextColor="{StaticResource TextSecondary}" />

                            <!--  Chart Placeholder - You'll need a charting library like LiveCharts or Microcharts  -->
                            <Grid RowDefinitions="*,Auto" RowSpacing="10" />
                        </VerticalStackLayout>
                    </Border>

                    <!--  Action Buttons  -->
                    <Grid
                        Grid.Column="1"
                        RowDefinitions="*,*,*"
                        RowSpacing="15">

                        <!--  Row 1  -->
                        <Grid
                            Grid.Row="0"
                            ColumnDefinitions="*,*"
                            ColumnSpacing="15">
                            <Border
                                Grid.Column="0"
                                Padding="15"
                                BackgroundColor="{StaticResource SurfaceDark}"
                                Stroke="{StaticResource Primary}"
                                StrokeShape="RoundRectangle 15"
                                StrokeThickness="2">
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding OpenMenuManagementCommand}" />
                                </Border.GestureRecognizers>
                                <VerticalStackLayout
                                    HorizontalOptions="Center"
                                    Spacing="10"
                                    VerticalOptions="Center">
                                    <Image HeightRequest="40" Source="menu.png" />
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        HorizontalOptions="Center"
                                        Text="MANAGE MENU"
                                        TextColor="{StaticResource TextPrimary}" />
                                </VerticalStackLayout>
                            </Border>

                            <Border
                                Grid.Column="1"
                                Padding="15"
                                BackgroundColor="{StaticResource SurfaceDark}"
                                Stroke="{StaticResource Primary}"
                                StrokeShape="RoundRectangle 15"
                                StrokeThickness="2">
                                <VerticalStackLayout
                                    HorizontalOptions="Center"
                                    Spacing="10"
                                    VerticalOptions="Center">
                                    <Image HeightRequest="40" Source="weighingscale.png" />
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        HorizontalOptions="Center"
                                        Text="MANAGE PER SERVING"
                                        TextColor="{StaticResource TextPrimary}" />
                                </VerticalStackLayout>
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding OpenRecipeManagementCommand}" />
                                </Border.GestureRecognizers>
                            </Border>
                        </Grid>

                        <!--  Row 2  -->
                        <Grid
                            Grid.Row="1"
                            ColumnDefinitions="*,*"
                            ColumnSpacing="15">
                            <Border
                                Grid.Column="0"
                                Padding="15"
                                BackgroundColor="{StaticResource SurfaceDark}"
                                Stroke="{StaticResource Primary}"
                                StrokeShape="RoundRectangle 15"
                                StrokeThickness="2">
                                <VerticalStackLayout
                                    HorizontalOptions="Center"
                                    Spacing="10"
                                    VerticalOptions="Center">
                                    <Image HeightRequest="40" Source="inventory.png" />
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        HorizontalOptions="Center"
                                        Text="INVENTORY"
                                        TextColor="{StaticResource TextPrimary}" />
                                </VerticalStackLayout>
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding OpenInventoryManagementCommand}" />
                                </Border.GestureRecognizers>
                            </Border>

                            <Border
                                Grid.Column="1"
                                Padding="15"
                                BackgroundColor="{StaticResource SurfaceDark}"
                                Stroke="{StaticResource Primary}"
                                StrokeShape="RoundRectangle 15"
                                StrokeThickness="2">
                                <VerticalStackLayout
                                    HorizontalOptions="Center"
                                    Spacing="10"
                                    VerticalOptions="Center">
                                    <Image HeightRequest="40" Source="chart.png" />
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        HorizontalOptions="Center"
                                        Text="REPORTS"
                                        TextColor="{StaticResource TextPrimary}" />
                                </VerticalStackLayout>
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding OpenReportsCommand}" />
                                </Border.GestureRecognizers>
                            </Border>
                        </Grid>

                        <!--  Row 3  -->
                        <Grid
                            Grid.Row="2"
                            ColumnDefinitions="*,*"
                            ColumnSpacing="15">
                            <Border
                                Grid.Column="0"
                                Padding="15"
                                BackgroundColor="{StaticResource SurfaceDark}"
                                Stroke="{StaticResource Primary}"
                                StrokeShape="RoundRectangle 15"
                                StrokeThickness="2">
                                <VerticalStackLayout
                                    HorizontalOptions="Center"
                                    Spacing="10"
                                    VerticalOptions="Center">
                                    <Image HeightRequest="40" Source="usersettings.png" />
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        HorizontalOptions="Center"
                                        Text="USER"
                                        TextColor="{StaticResource TextPrimary}" />
                                </VerticalStackLayout>
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding OpenUserManagementCommand}" />
                                </Border.GestureRecognizers>
                            </Border>

                            <Border
                                Grid.Column="1"
                                Padding="15"
                                BackgroundColor="{StaticResource SurfaceDark}"
                                Stroke="{StaticResource Primary}"
                                StrokeShape="RoundRectangle 15"
                                StrokeThickness="2">
                                <VerticalStackLayout
                                    HorizontalOptions="Center"
                                    Spacing="10"
                                    VerticalOptions="Center">
                                    <Image HeightRequest="40" Source="settings.png" />
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        HorizontalOptions="Center"
                                        Text="SETTINGS"
                                        TextColor="{StaticResource TextPrimary}" />
                                </VerticalStackLayout>
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding OpenSettingsCommand}" />
                                </Border.GestureRecognizers>
                            </Border>
                        </Grid>

                    </Grid>

                </Grid>

            </Grid>

        </Grid>
    </ScrollView>

</ContentPage>