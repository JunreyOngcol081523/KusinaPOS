<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:sf="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
             xmlns:expander="clr-namespace:Syncfusion.Maui.Expander;assembly=Syncfusion.Maui.Expander"
             xmlns:buttons="clr-namespace:Syncfusion.Maui.Buttons;assembly=Syncfusion.Maui.Buttons"
             xmlns:editors="clr-namespace:Syncfusion.Maui.Inputs;assembly=Syncfusion.Maui.Inputs"
             x:Class="KusinaPOS.Views.MenuItemPage"
             xmlns:viewmodels="clr-namespace:KusinaPOS.ViewModel"
             BackgroundColor="{StaticResource BackgroundDark}">

    <Grid Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Top Header -->
        <Grid Grid.Row="0" ColumnDefinitions="*,Auto,Auto" Margin="0,0,0,20">
            <Label Grid.Column="0" 
                   Text="Manage Menu - Flavor Fusion Bistro" 
                   FontSize="24" 
                   FontAttributes="Bold"
                   TextColor="{StaticResource TextPrimary}"
                   VerticalOptions="Center" />

            <Label Grid.Column="1" 
                   Text="Monday, October 28, 2024 | 5:30 PM" 
                   FontSize="12"
                   TextColor="{StaticResource TextSecondary}"
                   VerticalOptions="Center"
                   Margin="0,0,15,0" />

            <HorizontalStackLayout Grid.Column="2" Spacing="8" VerticalOptions="Center">
                <Label Text="Logged in: Administrator" 
                       FontSize="12"
                       TextColor="{StaticResource TextSecondary}"
                       VerticalOptions="Center" />
                <Border StrokeShape="RoundRectangle 15"
                        WidthRequest="30"
                        HeightRequest="30"
                        BackgroundColor="{StaticResource Primary}">
                    <Label Text="âš™" 
                           FontSize="16"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           TextColor="White" />
                </Border>
            </HorizontalStackLayout>
        </Grid>

        <!-- Main Content -->
        <Grid Grid.Row="1" ColumnDefinitions="*,1.2*" ColumnSpacing="20">

            <!-- Left Side - Menu Categories & Items -->
            <Border Grid.Column="0" 
                    BackgroundColor="{StaticResource SurfaceDark}"
                    StrokeShape="RoundRectangle 15"
                    Padding="20">
                <Grid RowDefinitions="Auto,Auto,*,Auto" RowSpacing="15">

                    <!-- Header -->
                    <Label Grid.Row="0"
                           Text="Menu Categories &amp; Items" 
                           FontSize="16" 
                           FontAttributes="Bold"
                           TextColor="{StaticResource TextPrimary}" />

                    <!-- Search and Add Category -->
                    <Grid Grid.Row="1" ColumnDefinitions="*,Auto" ColumnSpacing="10">
                        <sf:SfTextInputLayout Grid.Column="0"
                                                       Hint="Search"
                                                       ContainerType="Outlined"
                                                       OutlineCornerRadius="10"
                                                       ContainerBackground="{StaticResource Gray200}">
                            <Entry x:Name="SearchEntry"
                                   TextColor="{StaticResource TextPrimary}"
                                   PlaceholderColor="{StaticResource Gray500}" />
                        </sf:SfTextInputLayout>

                        <Button Grid.Column="1"
                                Text="Add Category"
                                BackgroundColor="{StaticResource Primary}"
                                TextColor="White"
                                FontSize="14"
                                FontAttributes="Bold"
                                CornerRadius="10"
                                HeightRequest="50"
                                WidthRequest="130" />
                    </Grid>

                    <!-- Menu Items List with Expanders -->
                    <ScrollView Grid.Row="2">
                        <VerticalStackLayout Spacing="10">

                            <!-- Appetizers Category -->
                            <expander:SfExpander IsExpanded="True">
                                <expander:SfExpander.Header>
                                    <Grid ColumnDefinitions="*,Auto" Padding="15,10">
                                        <Label Grid.Column="0"
                                               Text="Appetizers"
                                               FontSize="16"
                                               FontAttributes="Bold"
                                               TextColor="{StaticResource TextPrimary}"
                                               VerticalOptions="Center" />
                                        <Label Grid.Column="1"
                                               Text="ï¸¿"
                                               FontSize="16"
                                               TextColor="{StaticResource TextPrimary}"
                                               VerticalOptions="Center" />
                                    </Grid>
                                </expander:SfExpander.Header>
                                <expander:SfExpander.Content>
                                    <VerticalStackLayout Spacing="5" Padding="10,0">
                                        <!-- Grilled Salmon -->
                                        <Border BackgroundColor="{StaticResource Gray200}"
                                                StrokeShape="RoundRectangle 8"
                                                Padding="15,10">
                                            <Grid ColumnDefinitions="*,Auto,Auto,Auto,Auto" ColumnSpacing="10">
                                                <Label Grid.Column="0"
                                                       Text="Grilled Salmon"
                                                       FontSize="14"
                                                       TextColor="{StaticResource TextPrimary}"
                                                       VerticalOptions="Center" />
                                                <Label Grid.Column="1"
                                                       Text="Active"
                                                       FontSize="12"
                                                       TextColor="{StaticResource TextSecondary}"
                                                       VerticalOptions="Center" />
                                                <buttons:SfSwitch Grid.Column="2"
                                                                  IsOn="True"
                                                                  WidthRequest="50"
                                                                  HeightRequest="30"
                                                                  VerticalOptions="Center" />
                                                <Border Grid.Column="3"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="âœï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                                <Border Grid.Column="4"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="ğŸ—‘ï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                            </Grid>
                                        </Border>

                                        <!-- Ribeye Steak -->
                                        <Border BackgroundColor="{StaticResource Gray200}"
                                                StrokeShape="RoundRectangle 8"
                                                Padding="15,10">
                                            <Grid ColumnDefinitions="*,Auto,Auto,Auto,Auto" ColumnSpacing="10">
                                                <Label Grid.Column="0"
                                                       Text="Ribeye Steak"
                                                       FontSize="14"
                                                       TextColor="{StaticResource TextPrimary}"
                                                       VerticalOptions="Center" />
                                                <Label Grid.Column="1"
                                                       Text="Active"
                                                       FontSize="12"
                                                       TextColor="{StaticResource TextSecondary}"
                                                       VerticalOptions="Center" />
                                                <buttons:SfSwitch Grid.Column="2"
                                                                  IsOn="True"
                                                                  WidthRequest="50"
                                                                  HeightRequest="30"
                                                                  VerticalOptions="Center" />
                                                <Border Grid.Column="3"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="âœï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                                <Border Grid.Column="4"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="ğŸ—‘ï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </VerticalStackLayout>
                                </expander:SfExpander.Content>
                            </expander:SfExpander>

                            <!-- Main Courses Category -->
                            <expander:SfExpander IsExpanded="True">
                                <expander:SfExpander.Header>
                                    <Grid ColumnDefinitions="*,Auto" Padding="15,10">
                                        <Label Grid.Column="0"
                                               Text="Main Courses"
                                               FontSize="16"
                                               FontAttributes="Bold"
                                               TextColor="{StaticResource TextPrimary}"
                                               VerticalOptions="Center" />
                                        <Label Grid.Column="1"
                                               Text="ï¸¿"
                                               FontSize="16"
                                               TextColor="{StaticResource TextPrimary}"
                                               VerticalOptions="Center" />
                                    </Grid>
                                </expander:SfExpander.Header>
                                <expander:SfExpander.Content>
                                    <VerticalStackLayout Spacing="5" Padding="10,0">
                                        <!-- Caesar Salad -->
                                        <Border BackgroundColor="{StaticResource Gray200}"
                                                StrokeShape="RoundRectangle 8"
                                                Padding="15,10">
                                            <Grid ColumnDefinitions="*,Auto,Auto,Auto,Auto" ColumnSpacing="10">
                                                <Label Grid.Column="0"
                                                       Text="Caesar Salad"
                                                       FontSize="14"
                                                       TextColor="{StaticResource TextPrimary}"
                                                       VerticalOptions="Center" />
                                                <Label Grid.Column="1"
                                                       Text="Active"
                                                       FontSize="12"
                                                       TextColor="{StaticResource TextSecondary}"
                                                       VerticalOptions="Center" />
                                                <buttons:SfSwitch Grid.Column="2"
                                                                  IsOn="True"
                                                                  WidthRequest="50"
                                                                  HeightRequest="30"
                                                                  VerticalOptions="Center" />
                                                <Border Grid.Column="3"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="âœï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                                <Border Grid.Column="4"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="ğŸ—‘ï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                            </Grid>
                                        </Border>

                                        <!-- Margarita Pizza -->
                                        <Border BackgroundColor="{StaticResource Gray200}"
                                                StrokeShape="RoundRectangle 8"
                                                Padding="15,10">
                                            <Grid ColumnDefinitions="*,Auto,Auto,Auto,Auto" ColumnSpacing="10">
                                                <Label Grid.Column="0"
                                                       Text="Margarita Pizza"
                                                       FontSize="14"
                                                       TextColor="{StaticResource TextPrimary}"
                                                       VerticalOptions="Center" />
                                                <Label Grid.Column="1"
                                                       Text="Active"
                                                       FontSize="12"
                                                       TextColor="{StaticResource TextSecondary}"
                                                       VerticalOptions="Center" />
                                                <buttons:SfSwitch Grid.Column="2"
                                                                  IsOn="True"
                                                                  WidthRequest="50"
                                                                  HeightRequest="30"
                                                                  VerticalOptions="Center" />
                                                <Border Grid.Column="3"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="âœï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                                <Border Grid.Column="4"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="ğŸ—‘ï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </VerticalStackLayout>
                                </expander:SfExpander.Content>
                            </expander:SfExpander>

                            <!-- Desserts Category -->
                            <expander:SfExpander IsExpanded="True">
                                <expander:SfExpander.Header>
                                    <Grid ColumnDefinitions="*,Auto" Padding="15,10">
                                        <Label Grid.Column="0"
                                               Text="Desserts"
                                               FontSize="16"
                                               FontAttributes="Bold"
                                               TextColor="{StaticResource TextPrimary}"
                                               VerticalOptions="Center" />
                                        <Label Grid.Column="1"
                                               Text="ï¸¿"
                                               FontSize="16"
                                               TextColor="{StaticResource TextPrimary}"
                                               VerticalOptions="Center" />
                                    </Grid>
                                </expander:SfExpander.Header>
                                <expander:SfExpander.Content>
                                    <VerticalStackLayout Spacing="5" Padding="10,0">
                                        <!-- Tiramisu -->
                                        <Border BackgroundColor="{StaticResource Gray200}"
                                                StrokeShape="RoundRectangle 8"
                                                Padding="15,10">
                                            <Grid ColumnDefinitions="*,Auto,Auto,Auto,Auto" ColumnSpacing="10">
                                                <Label Grid.Column="0"
                                                       Text="Tiramisu"
                                                       FontSize="14"
                                                       TextColor="{StaticResource TextPrimary}"
                                                       VerticalOptions="Center" />
                                                <Label Grid.Column="1"
                                                       Text="Active"
                                                       FontSize="12"
                                                       TextColor="{StaticResource TextSecondary}"
                                                       VerticalOptions="Center" />
                                                <buttons:SfSwitch Grid.Column="2"
                                                                  IsOn="True"
                                                                  WidthRequest="50"
                                                                  HeightRequest="30"
                                                                  VerticalOptions="Center" />
                                                <Border Grid.Column="3"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="âœï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                                <Border Grid.Column="4"
                                                        StrokeShape="RoundRectangle 5"
                                                        BackgroundColor="Transparent"
                                                        Stroke="{StaticResource Gray400}"
                                                        StrokeThickness="1"
                                                        WidthRequest="30"
                                                        HeightRequest="30"
                                                        VerticalOptions="Center">
                                                    <Label Text="ğŸ—‘ï¸" FontSize="14" HorizontalOptions="Center" VerticalOptions="Center" />
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </VerticalStackLayout>
                                </expander:SfExpander.Content>
                            </expander:SfExpander>

                        </VerticalStackLayout>
                    </ScrollView>

                    <!-- Add New Item Button -->
                    <Button Grid.Row="3"
                            Text="ADD NEW ITEM"
                            BackgroundColor="Transparent"
                            BorderColor="{StaticResource Primary}"
                            BorderWidth="2"
                            TextColor="{StaticResource Primary}"
                            FontSize="14"
                            FontAttributes="Bold"
                            CornerRadius="10"
                            HeightRequest="50" />

                </Grid>
            </Border>

            <!-- Right Side - Edit Menu Item Form -->
            <Border Grid.Column="1" 
                    BackgroundColor="{StaticResource SurfaceDark}"
                    StrokeShape="RoundRectangle 15"
                    Padding="20">
                <Grid RowDefinitions="Auto,*,Auto" RowSpacing="20">

                    <!-- Header -->
                    <Label Grid.Row="0"
                           Text="Edit Menu Item: Grilled Salmon" 
                           FontSize="16" 
                           FontAttributes="Bold"
                           TextColor="{StaticResource TextPrimary}" />

                    <!-- Form Fields -->
                    <ScrollView Grid.Row="1">
                        <VerticalStackLayout Spacing="20">

                            <!-- Item Name -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Item Name"
                                       FontSize="13"
                                       TextColor="{StaticResource TextSecondary}" />
                                <sf:SfTextInputLayout Hint=""
                                                               ContainerType="Outlined"
                                                               OutlineCornerRadius="10"
                                                               ContainerBackground="{StaticResource Gray200}">
                                    <Entry Text="Grilled Salmon"
                                           TextColor="{StaticResource TextPrimary}" />
                                </sf:SfTextInputLayout>
                            </VerticalStackLayout>

                            <!-- Description -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Description"
                                       FontSize="13"
                                       TextColor="{StaticResource TextSecondary}" />
                                <Border BackgroundColor="{StaticResource Gray200}"
                                        StrokeShape="RoundRectangle 10"
                                        Padding="10"
                                        HeightRequest="100">
                                    <Editor Placeholder="Description for textarea here"
                                            PlaceholderColor="{StaticResource Gray500}"
                                            TextColor="{StaticResource TextPrimary}"
                                            BackgroundColor="Transparent" />
                                </Border>
                            </VerticalStackLayout>

                            <!-- Price and Category -->
                            <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                                <VerticalStackLayout Grid.Column="0" Spacing="8">
                                    <Label Text="Price"
                                           FontSize="13"
                                           TextColor="{StaticResource TextSecondary}" />
                                    <sf:SfTextInputLayout Hint="Price"
                                                                   ContainerType="Outlined"
                                                                   OutlineCornerRadius="10"
                                                                   ContainerBackground="{StaticResource Gray200}">
                                        <Entry Keyboard="Numeric"
                                               TextColor="{StaticResource TextPrimary}"
                                               PlaceholderColor="{StaticResource Gray500}" />
                                    </sf:SfTextInputLayout>
                                </VerticalStackLayout>

                                <VerticalStackLayout Grid.Column="1" Spacing="8">
                                    <Label Text="Category"
                                           FontSize="13"
                                           TextColor="{StaticResource TextSecondary}" />
                                    <editors:SfComboBox HeightRequest="50"
                                                            TextColor="{StaticResource TextPrimary}"
                                                            Placeholder="Category"
                                                            BackgroundColor="{StaticResource Gray200}"
                                                            Stroke="{StaticResource Gray400}">
                                        <editors:SfComboBox.ItemsSource>
                                            <x:Array Type="{x:Type x:String}">
                                                <x:String>Appetizers</x:String>
                                                <x:String>Main Courses</x:String>
                                                <x:String>Desserts</x:String>
                                            </x:Array>
                                        </editors:SfComboBox.ItemsSource>
                                    </editors:SfComboBox>
                                </VerticalStackLayout>
                            </Grid>

                            <!-- Image Upload -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Image"
                                       FontSize="13"
                                       TextColor="{StaticResource TextSecondary}" />
                                <Grid ColumnDefinitions="Auto,*" ColumnSpacing="15">
                                    <!-- Image Preview -->
                                    <Border Grid.Column="0"
                                            StrokeShape="RoundRectangle 10"
                                            WidthRequest="100"
                                            HeightRequest="100"
                                            BackgroundColor="{StaticResource Gray200}">
                                        <Image Source="salmon.png"
                                               Aspect="AspectFill" />
                                    </Border>

                                    <!-- Upload Button -->
                                    <Border Grid.Column="1"
                                            BackgroundColor="{StaticResource Gray200}"
                                            StrokeShape="RoundRectangle 10"
                                            Stroke="{StaticResource Gray400}"
                                            StrokeThickness="2"
                                            StrokeDashArray="5,5"
                                            Padding="20"
                                            VerticalOptions="Center">
                                        <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                                            <Label Text="â¬†ï¸" FontSize="24" HorizontalOptions="Center" />
                                            <Label Text="Upload"
                                                   FontSize="14"
                                                   TextColor="{StaticResource TextSecondary}"
                                                   HorizontalOptions="Center" />
                                        </VerticalStackLayout>
                                    </Border>
                                </Grid>
                            </VerticalStackLayout>

                            <!-- Active Toggle -->
                            <HorizontalStackLayout Spacing="10">
                                <Label Text="Active"
                                       FontSize="14"
                                       TextColor="{StaticResource TextPrimary}"
                                       VerticalOptions="Center" />
                                <buttons:SfSwitch IsOn="True"
                                                  WidthRequest="60"
                                                  HeightRequest="32" />
                            </HorizontalStackLayout>

                        </VerticalStackLayout>
                    </ScrollView>

                    <!-- Action Buttons -->
                    <Grid Grid.Row="2" ColumnDefinitions="*,*" ColumnSpacing="15">
                        <Button Grid.Column="0"
                                Text="CANCEL"
                                BackgroundColor="Transparent"
                                BorderColor="{StaticResource Gray400}"
                                BorderWidth="2"
                                TextColor="{StaticResource TextPrimary}"
                                FontSize="14"
                                FontAttributes="Bold"
                                CornerRadius="10"
                                HeightRequest="50" />

                        <Button Grid.Column="1"
                                Text="SAVE CHANGES"
                                BackgroundColor="{StaticResource Primary}"
                                TextColor="White"
                                FontSize="14"
                                FontAttributes="Bold"
                                CornerRadius="10"
                                HeightRequest="50" />
                    </Grid>

                </Grid>
            </Border>

        </Grid>

    </Grid>

</ContentPage>